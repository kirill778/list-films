# Movie/TV Show Browser

## Описание
Movie/TV Show Browser — это веб-приложение для поиска, просмотра и изучения информации о фильмах и сериалах. Приложение построено на Next.js и использует TMDB API для получения данных о фильмах и ТВ-шоу. Интерфейс интуитивно понятен, адаптивен и поддерживает быстрый поиск, подробные страницы контента и рекомендации.

---

## 1. Функциональные и нефункциональные требования
### 1.1. Функциональные требования
- **FR-001:** Поиск фильмов и сериалов по названию или ключевым словам
- **FR-002:** Отображение результатов поиска (миниатюра, название, дата, тип)
- **FR-003:** Просмотр подробной информации о фильме/сериале (жанры, описание, постер, рейтинг, актеры/съемочная группа, сезоны/эпизоды для сериалов)
- **FR-004:** Рекомендации по похожему контенту
- **FR-005:** Пагинация или бесконечная прокрутка результатов
- **FR-006:** Обработка ошибок с дружелюбными сообщениями
- **FR-007:** Адаптивный дизайн для всех устройств

### 1.2. Нефункциональные требования
- **NFR-001:** Быстрая загрузка страниц и результатов поиска
- **NFR-002:** Удобство и простота интерфейса
- **NFR-003:** Масштабируемость (до 10 000 одновременных пользователей)
- **NFR-004:** Надежность (uptime 99.9%)
- **NFR-005:** Безопасность (HTTPS, защита данных пользователей)
- **NFR-006:** Поддерживаемость (структурированный, документированный код)

---

## 2. Use Cases & User Stories
### 2.1. Use Cases
- **Поиск фильма/сериала:** пользователь вводит запрос, получает список результатов, может листать страницы или прокручивать список.
- **Просмотр деталей:** пользователь кликает на результат, видит подробную страницу с описанием, рейтингом, актерами и рекомендациями.
- **Обработка ошибок:** при отсутствии результатов или ошибке API отображается соответствующее сообщение.

### 2.2. User Stories
- Как пользователь, я хочу быстро находить фильмы/сериалы по названию.
- Как пользователь, я хочу видеть список результатов с картинками и названиями.
- Как пользователь, я хочу просматривать подробную информацию о выбранном контенте.
- Как пользователь, я хочу получать рекомендации по похожим фильмам/сериалам.
- Как пользователь, я хочу видеть сообщения об ошибках и использовать приложение на любом устройстве.

---

## 3. Архитектура и дизайн
### 3.1. Основные компоненты
- **UI/Frontend (Next.js):**
  - Search Page (страница поиска)
  - Detail Page (страница деталей)
  - Компоненты: SearchBar, MovieCard, DetailPageHeader, LoadingSpinner, ErrorMessage
- **API Gateway (Next.js API Routes):**
  - /api/search — поиск
  - /api/details/[type]/[id] — детали контента
- **Внешний сервис:**
  - TMDB API (https://www.themoviedb.org/documentation/api)
- **База данных (опционально):**
  - Firebase Firestore (для избранного/истории)

### 3.2. Взаимодействие компонентов
- Пользователь вводит запрос → SearchBar отправляет его на /api/search
- API Route делает запрос к TMDB API, возвращает данные на фронтенд
- Фронтенд отображает результаты, позволяет переходить к деталям
- Для избранного — взаимодействие с Firestore через отдельные API Routes

### 3.3. Технологии
- **Frontend:** Next.js, React, Tailwind CSS
- **API:** TMDB API
- **State Management:** useState, useEffect, (опционально useContext)
- **Database (опционально):** Firebase Firestore

---

## 4. Модули и структура
### 4.1. Основные модули
- **pages/index.js:** Главная страница поиска, интеграция SearchBar, SearchResultsList, Pagination
- **pages/movie/[id].js / pages/tv/[id].js:** Страница деталей фильма/сериала
- **components/SearchBar.js:** Поисковая строка
- **components/MovieCard.js:** Карточка результата
- **components/SearchResultsList.js:** Список результатов поиска
- **components/Pagination.js:** Пагинация
- **components/LoadingSpinner.js:** Индикатор загрузки
- **components/ErrorMessage.js:** Сообщения об ошибках
- **pages/api/search.js:** API Route для поиска
- **pages/api/details/[type]/[id].js:** API Route для деталей
- **utils/tmdbApi.js:** Вспомогательные функции для работы с TMDB API

### 4.2. Пример логики поиска (псевдокод)
```js
function fetchSearchResults() {
  setIsLoading(true);
  setError(null);
  try {
    const apiUrl = `/api/search?q=${searchTerm}&page=${currentPage}`;
    const response = await fetch(apiUrl);
    if (!response.ok) throw new Error('Network response was not ok.');
    const data = await response.json();
    setSearchResults(data.results);
    setTotalPages(data.total_pages);
  } catch (e) {
    setError('Failed to fetch search results: ' + e.message);
    setSearchResults([]);
    setTotalPages(1);
  } finally {
    setIsLoading(false);
  }
}
```

---

## 5. Запуск проекта
1. Установите зависимости:
   ```bash
   npm install
   ```
2. Получите API-ключ TMDB и добавьте его в `.env.local`:
   ```env
   TMDB_API_KEY=your_tmdb_api_key
   ```
3. Запустите приложение:
   ```bash
   npm run dev
   ```

---

## 6. Лицензия
MIT
